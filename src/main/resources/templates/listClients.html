<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <title>Clients</title>
    <meta charset="utf-8">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css"
          integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">

    <!-- bootstrap kit-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <!-- end of bootstrap kit-->


    <script>
$(document).ready(function(){
  $("#inputSearch").on("keyup", function() {
    var value = $(this).val().toLowerCase();
    $("#clientTable tr").filter(function() {
      $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
    });
  });
});










    </script>

</head>
<body class="bg-light">
<div th:insert="header.html"></div>
<div class="container">
    <br>
    <p>Type something in the input field to search the table for first names, last names or emails:</p>
    <input class="form-control" id="inputSearch" type="text" placeholder="Пошук..">
    <br>
    <div class="my-3 p-3 bg-white rounded shadow-sm">
        <table class="table table-hover">
            <thead class="thead-dark">
            <th>
                <h4>
                    <small>Наші Клієнти</small>
                </h4>
            </th>
            <th></th>
            </thead>
            <tbody id="clientTable">
            <tr th:each="client : ${clientPage.content}">
                <td><span th:text="${client.name}"/>
                    <span th:text="${client.otherClientInfo}"/>
                    <div th:with="phoneNumber=${client.phoneNumber}"
                         th:class="font-weight-light"
                         th:text="'('+${#strings.substring(phoneNumber,0,3)}+')'
                             +' '+${#strings.substring(phoneNumber,3,5)}
                             +'-'+${#strings.substring(phoneNumber,5,7)}
                             +'-'+${#strings.substring(phoneNumber,7)}">
                    </div>
                </td>
                <td><p class="float-right">
                    <a th:href="@{/client/{clientId}/edit(clientId=${client.id})}">
                        <i class="fas fa-pencil-alt" aria-hidden="true"></i></a>&emsp;&emsp;
                    <a th:href="@{/client/{clientId}/remove(clientId=${client.id})}"><i class="far fa-trash-alt text-secondary" aria-hidden="true"></i></a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
    <div>
        <ul th:class="pagination">
            <li th:class="${pageNumber==clientPage.number + 1} ? 'page-item active' : 'page-item'"
                th:if="${clientPage.totalPages > 0}"
                th:each="pageNumber : ${pageNumbers}">
                <a th:href="@{/clients(size=${clientPage.size}, page=${pageNumber})}"
                   th:text=${pageNumber}
                   th:class="page-link"></a>
            </li>
        </ul>
    </div>

    <!-- th:class="${pageNumber==clientPage.number + 1} ? 'page-link active':'page-link'"-->

    <!--<ul class="pagination">-->
    <!--<li class="page-item"><a class="page-link" href="#">Previous</a></li>-->
    <!--<li class="page-item"><a class="page-link" href="#">1</a></li>-->
    <!--<li class="page-item active"><a class="page-link" href="#">2</a></li>-->
    <!--<li class="page-item"><a class="page-link" href="#">3</a></li>-->
    <!--<li class="page-item"><a class="page-link" href="#">Next</a></li>-->
    <!--</ul>-->

</div>
</body>
</html>
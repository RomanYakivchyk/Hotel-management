<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Title</title>
    <!--Font Awesome-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- Bootstrap core CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">
    <!-- Material Design Bootstrap -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.5.9/css/mdb.min.css" rel="stylesheet">
    <!-- JQuery -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!-- Bootstrap tooltips -->
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.13.0/umd/popper.min.js"></script>
    <!-- Bootstrap core JavaScript -->
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <!-- MDB core JavaScript -->
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.5.9/js/mdb.min.js"></script>


    <script>
    $(document).ready(function(){
        loadTableData();
     });

    function loadTableData(){
        $.get('http://localhost:8080/tableData', function(data) {
          $('#bookingTable').html(data);
          mergeCells();
          mergeRows();
        });
    }

    function mergeCells(){
        var rows = $('#bookingTable').children('tbody').children('tr');
            for(var i = 0;i<rows.length;i++){
               var cells = $(rows[i]).children('td');
               var $primaryCell = $(cells[0]);
                   for(var j = 1;j<cells.length;j++){
                        var $currCell = $(cells[j]);
                        var $prevCell = $(cells[j-1]);
                        if(hasAttr($currCell,'data-vac') && hasAttr($prevCell,'data-vac')){
                            if($currCell.data('vac') === $prevCell.data('vac')){
                                  $currCell.hide();
                                      if(!hasAttr($primaryCell,'colspan')){
                                            $primaryCell.attr('colspan',1);
                                      }
                                  var currColspan = $primaryCell.attr('colspan');
                                  $primaryCell.attr('colspan',(parseInt(currColspan)+1));
                            }
                        }
                        if(!sameVacationCells($currCell,$prevCell)){
                            $primaryCell = $currCell;
                        }
                   }
            }
    }

    function sameVacationCells($cell1,$cell2){
    var haveAttr = hasAttr($cell1,'data-vac') && hasAttr($cell2,'data-vac');
    var sameValues = $cell1.data('vac') === $cell2.data('vac');
    return haveAttr && sameValues;
    }

    function hasAttr($element, attrName){
        var attr = $element.attr(attrName);
        return typeof attr !== typeof undefined && attr !== false;
    }

    function mergeRows(){

    }




    </script>

    <style>
        .table {
            font-size: 10px;
        }
        .table tr,.table td {
           height: 10px;
           <!--text-align: center-->
        }
        .table>tbody>tr>td, .table>tbody>tr>th,
        .table>thead>tr>td, .table>thead>tr>th {
          padding:0;
        }




    </style>


</head>
<body>
<div class="container">
    <div class="table-responsive">
        <table class="table" id="bookingTable">
        </table>
    </div>
</div>
</body>
</html>
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <title>Client</title>
    <meta charset="utf-8">

<!--font awesome-->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css"
          integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">

    <!-- bootstrap kit-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <!-- end of bootstrap kit-->
    <!--bootstrap-select-->
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.css"/>
    <!--<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>
    <script>
    $(document).ready(function(){
        $('select').selectpicker();
        });















    </script>
    <!---->

    <!--date picker-->
    <script src="https://cdn.jsdelivr.net/npm/gijgo@1.9.10/js/gijgo.min.js" type="text/javascript"></script>
    <link href="https://cdn.jsdelivr.net/npm/gijgo@1.9.10/css/gijgo.min.css" rel="stylesheet" type="text/css"/>
    <script src="https://cdn.jsdelivr.net/npm/gijgo@1.9.10/js/messages/messages.ru-ru.js"
            type="text/javascript"></script>

    <script type="text/javascript">
        var arrivalDatePicker, leaveDatePicker, arrivalDateConfig, leaveDateConfig;
        arrivalDateConfig = {
            locale: 'ru-ru',
            uiLibrary: 'bootstrap4',
            modal: true, header: true, footer: true,
            maxDate: function () {
                return $('#leaveDate').val();
            }
        };
        leaveDateConfig = {
            locale: 'ru-ru',
            uiLibrary: 'bootstrap4',
            modal: true, header: true, footer: true,
            minDate: function () {
                return $('#arrivalDate').val();
            }
        };
        $(document).ready(function () {
            arrivalDatePicker = $('#arrivalDate').datepicker(arrivalDateConfig);
            leaveDatePicker = $('#leaveDate').datepicker(leaveDateConfig);
        });

    </script>
    <!---->


</head>
<body class="bg-light">
<div th:insert="header.html"></div>
<div class="container col-md-6" style="float: none; margin: 0 auto;">
    <form class="needs-validation" action="#" th:action="@{/vacations/update}"
          th:object="${vacationModel}" method="post">
        <h3 class="mb-3 mt-5" th:text="((*{vacationId} == null)?'Додати':'Редагувати') + ' бронювання'"></h3>
        <input th:type="hidden" th:value="*{vacationId}" th:field="*{vacationId}">
        <div class="row">
            <div class="col-md-8 mb-3 form-group">
                <label for="clientName">Клієнт</label>
                <div>
                    <select class="selectpicker form-control"
                            th:field="*{clientId}"
                            data-style="btn-primary" data-live-search="true" id="clientName">
                        <option th:each="client : ${clients}"
                                th:value="${client.id}"
                                th:text="${client.name}+' '+${client.otherClientInfo}+' ('+${client.phoneNumber}+')'"></option>
                    </select>
                </div>
            </div>
            <div class="col-md-4 mb-3 form-group">
                <label for="residentsCount">Кількість гостей</label>
                <input type="number" min="1" max="20" th:field="*{residentsCount}" value="*{residentsCount}" class="form-control"
                       id="residentsCount">
                <div class="text-danger" th:if="${#fields.hasErrors('residentsCount')}"
                     th:errors="*{residentsCount}"></div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-8 mb-3 form-group">
                <label for="arrivalDate">Дата приїзду</label>
                <input type="text" th:field="*{arrivalDate}" value="*{arrivalDate}" class="form-control"
                       id="arrivalDate">
                <div class="text-danger" th:if="${#fields.hasErrors('arrivalDate')}" th:errors="*{arrivalDate}"></div>
            </div>
            <div class="col-md-4 mb-3 form-group">
                <label for="arrivalDayPart">Час</label>
                <select class="selectpicker" data-width="100%" th:field="*{arrivalDayPart}"
                        data-style="btn-primary" id="arrivalDayPart">
                    <option th:value="1">Ранок</option>
                    <option th:value="2">День</option>
                    <option th:value="3">Вечір</option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="col-md-8 mb-3 form-group">
                <label for="leaveDate">Дата від'їзду</label>
                <input type="text" th:field="*{leaveDate}" value="*{leaveDate}" class="form-control" id="leaveDate">
                <div class="text-danger" th:if="${#fields.hasErrors('leaveDate')}" th:errors="*{leaveDate}"></div>
            </div>
            <div class="col-md-4 mb-3 form-group">
                <label for="leaveDayPart">Час</label>
                <select class="selectpicker" data-width="100%" th:field="*{leaveDayPart}"
                        data-style="btn-primary" id="leaveDayPart">
                    <option th:value="1">Ранок</option>
                    <option th:value="2">День</option>
                    <option th:value="3">Вечір</option>
                </select>
            </div>
        </div>

        <div class="mb-3 form-group">
            <label for="rooms">Кімнати</label>
            <select class="selectpicker" data-width="100%" th:field="*{roomIds}" th:value="*{roomIds}" data-style="btn-primary" id="rooms"
                    multiple data-size="8" title="Вибрати кімнати..">

                <optgroup label="Будинок 1" data-icon="fas fa-home">
                    <option th:value="1">Кімната 1</option>
                    <option th:value="2">Кімната 2</option>
                    <option th:value="3">Кімната 3</option>
                    <option th:value="4">Кімната 4</option>
                    <option th:value="5">2-й поверх</option>
                </optgroup>
                <optgroup label="Будинок 2" data-icon="fas fa-home">
                    <option th:value="6">Кімната 5</option>
                    <option th:value="7">Кімната 6</option>
                </optgroup>
                <optgroup label="Будинок 3" data-icon="fas fa-home">
                    <option th:value="8">Кімната 7</option>
                    <option th:value="9">Кімната 8</option>
                </optgroup>
            </select>
        </div>
        <br>
        <hr class="mt-2">
        <button class="btn btn-success btn-block" type="submit">Зберегти</button>
        <div class="text-center mt-2"><a th:class="text-secondary" th:href="@{/clients}">Відмінити</a></div>
    </form>
</div>
</body>
</html>